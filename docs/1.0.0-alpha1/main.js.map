{
  "version": 3,
  "sources": ["../../src/site/1.0.0-alpha1/js/assess/SelectedTabState.js", "../../src/site/1.0.0-alpha1/js/assess/Panel.js", "../../src/site/1.0.0-alpha1/js/assess/Tab.js", "../../src/site/1.0.0-alpha1/js/assess/TabPanel.js", "../../src/site/1.0.0-alpha1/js/assess/TabControl.js", "../../src/site/1.0.0-alpha1/js/assess/index.js"],
  "sourcesContent": ["export default class SelectedTabState {\n  constructor(window) {\n    this.window = window\n    this.searchParams = new URLSearchParams(window.location.search)\n    this.selectedTabId = this.searchParams.get(\"selectedPanel\")\n    this.listeners = []\n    this.window.addEventListener(\"popstate\", (event) => {\n      const tabId = (event.state || {}).selectedPanel\n      if (tabId) {\n        this.listeners.forEach( (listener) => listener(tabId) )\n      }\n    })\n  }\n\n  onNavigation(listener) {\n    this.listeners.push(listener)\n  }\n\n  setSelectedTabId(tabId) {\n    this.selectedTabId = tabId\n    this.searchParams.set(\"selectedPanel\", tabId)\n    this.window.history.pushState(\n      { selectedPanel: tabId },\n      \"unused\",\n      \"?\" + this.searchParams.toString()\n    )\n  }\n}\n", "export default class Panel {\n  constructor($panel) {\n    this.panel = $panel\n  }\n  show() {\n    this.panel.removeAttribute(\"hidden\")\n    this.panel.setAttribute(\"aria-selected\", true)\n    this.panel.style.display = \"block\"\n  }\n  hide() {\n    this.panel.setAttribute(\"hidden\", true)\n    this.panel.setAttribute(\"aria-selected\", false)\n    this.panel.style.display = \"none\"\n  }\n}\n", "export default class Tab {\n  constructor($tab) {\n    this.tab = $tab\n    this.selectedClasses = $tab.dataset[\"selected-classes\"].split(/\\s+/)\n    this.unSelectedClasses = $tab.dataset[\"unselected-classes\"].split(/\\s+/)\n    this.listeners = []\n    this.tab.addEventListener(\"click\", (event) => {\n      event.preventDefault()\n      this.listeners.forEach( (listener) => listener() )\n    })\n  }\n  select() {\n    this.tab.classList.remove(...this.unSelectedClasses)\n    this.tab.classList.add(...this.selectedClasses)\n  }\n  unselect() {\n    this.tab.classList.add(...this.unSelectedClasses)\n    this.tab.classList.remove(...this.selectedClasses)\n  }\n  onClick(listener) {\n    this.listeners.push(listener)\n  }\n}\n", "export default class TabPanel {\n  constructor(id, tab, panel) {\n    this.id    = id\n    this.tab   = tab\n    this.panel = panel\n  }\n  show() {\n    this.tab.select()\n    this.panel.show()\n  }\n  hide() {\n    this.tab.unselect()\n    this.panel.hide()\n  }\n}\n", "import Panel    from \"./Panel\"\nimport Tab      from \"./Tab\"\nimport TabPanel from \"./TabPanel\"\n\nexport default class TabControl {\n  constructor($tabControl) {\n    this.tabControl = $tabControl\n    this.tabPanels = {}\n    this.tabControl.querySelectorAll(\"[role=tab]\").forEach( (tab) => {\n      const id = tab.getAttribute(\"aria-controls\")\n      const panel = document.getElementById(id)\n      this.tabPanels[id] = new TabPanel(id, new Tab(tab), new Panel(panel))\n    })\n    Object.values(this.tabPanels).forEach( (tabPanel) => {\n      tabPanel.tab.onClick( () => this.show(tabPanel.id) )\n    })\n    this.listeners = []\n  }\n\n  onShow(listener) {\n    this.listeners.push(listener)\n  }\n\n  show(tabPanelId) {\n    const tabPanel = this.tabPanels[tabPanelId]\n    if (tabPanel) {\n      Object.values(this.tabPanels).forEach( (other) => other.hide() )\n      tabPanel.show()\n      this.listeners.forEach( (listener) => listener(tabPanel) )\n    }\n  }\n}\n", "import SelectedTabState from \"./SelectedTabState\"\nimport TabControl       from \"./TabControl\"\n\nwindow.addEventListener(\"DOMContentLoaded\", (event) => {\n  const $tabView = document.querySelector(\"[data-decision-tab-view]\")\n  if (!$tabView) {\n    return\n  }\n  const tabControl       = new TabControl($tabView)\n  const selectedTabState = new SelectedTabState(window)\n\n  tabControl.show(selectedTabState.selectedTabId)\n\n  tabControl.onShow( (tabPanel) => selectedTabState.setSelectedTabId(tabPanel.id) )\n  selectedTabState.onNavigation( (tabId) => tabControl.show(tabId) )\n})\n"],
  "mappings": "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",
  "names": ["window"]
}
