{
  "version": 3,
  "sources": ["../../src/site/1.0.0/js/assess/SelectedTabState.js", "../../src/site/1.0.0/js/assess/Panel.js", "../../src/site/1.0.0/js/assess/Tab.js", "../../src/site/1.0.0/js/assess/TabPanel.js", "../../src/site/1.0.0/js/assess/TabControl.js", "../../src/site/1.0.0/js/assess/index.js"],
  "sourcesContent": ["export default class SelectedTabState {\n  constructor(window) {\n    this.window = window\n    this.searchParams = new URLSearchParams(window.location.search)\n    this.selectedTabId = this.searchParams.get(\"selectedPanel\")\n    this.listeners = []\n    this.window.addEventListener(\"popstate\", (event) => {\n      const tabId = (event.state || {}).selectedPanel\n      if (tabId) {\n        this.listeners.forEach( (listener) => listener(tabId) )\n      }\n    })\n  }\n\n  onNavigation(listener) {\n    this.listeners.push(listener)\n  }\n\n  setSelectedTabId(tabId) {\n    this.selectedTabId = tabId\n    this.searchParams.set(\"selectedPanel\", tabId)\n    this.window.history.pushState(\n      { selectedPanel: tabId },\n      \"unused\",\n      \"?\" + this.searchParams.toString()\n    )\n  }\n}\n", "export default class Panel {\n  constructor($panel) {\n    this.panel = $panel\n  }\n  show() {\n    this.panel.removeAttribute(\"hidden\")\n    this.panel.setAttribute(\"aria-selected\", true)\n    this.panel.style.display = \"block\"\n  }\n  hide() {\n    this.panel.setAttribute(\"hidden\", true)\n    this.panel.setAttribute(\"aria-selected\", false)\n    this.panel.style.display = \"none\"\n  }\n}\n", "export default class Tab {\n  constructor($tab) {\n    this.tab = $tab\n    this.selectedClasses = $tab.dataset[\"selected-classes\"].split(/\\s+/)\n    this.unSelectedClasses = $tab.dataset[\"unselected-classes\"].split(/\\s+/)\n    this.listeners = []\n    this.tab.addEventListener(\"click\", (event) => {\n      event.preventDefault()\n      this.listeners.forEach( (listener) => listener() )\n    })\n  }\n  select() {\n    this.tab.classList.remove(...this.unSelectedClasses)\n    this.tab.classList.add(...this.selectedClasses)\n  }\n  unselect() {\n    this.tab.classList.add(...this.unSelectedClasses)\n    this.tab.classList.remove(...this.selectedClasses)\n  }\n  onClick(listener) {\n    this.listeners.push(listener)\n  }\n}\n", "export default class TabPanel {\n  constructor(id, tab, panel) {\n    this.id    = id\n    this.tab   = tab\n    this.panel = panel\n  }\n  show() {\n    this.tab.select()\n    this.panel.show()\n  }\n  hide() {\n    this.tab.unselect()\n    this.panel.hide()\n  }\n}\n", "import Panel    from \"./Panel\"\nimport Tab      from \"./Tab\"\nimport TabPanel from \"./TabPanel\"\n\nexport default class TabControl {\n  constructor($tabControl) {\n    this.tabControl = $tabControl\n    this.tabPanels = {}\n    this.tabControl.querySelectorAll(\"[role=tab]\").forEach( (tab) => {\n      const id = tab.getAttribute(\"aria-controls\")\n      const panel = document.getElementById(id)\n      this.tabPanels[id] = new TabPanel(id, new Tab(tab), new Panel(panel))\n    })\n    Object.values(this.tabPanels).forEach( (tabPanel) => {\n      tabPanel.tab.onClick( () => this.show(tabPanel.id) )\n    })\n    this.listeners = []\n  }\n\n  onShow(listener) {\n    this.listeners.push(listener)\n  }\n\n  show(tabPanelId) {\n    const tabPanel = this.tabPanels[tabPanelId]\n    if (tabPanel) {\n      Object.values(this.tabPanels).forEach( (other) => other.hide() )\n      tabPanel.show()\n      this.listeners.forEach( (listener) => listener(tabPanel) )\n    }\n  }\n}\n", "import SelectedTabState from \"./SelectedTabState\"\nimport TabControl       from \"./TabControl\"\n\nwindow.addEventListener(\"DOMContentLoaded\", (event) => {\n  const $tabView = document.querySelector(\"[data-decision-tab-view]\")\n  if (!$tabView) {\n    return\n  }\n  const tabControl       = new TabControl($tabView)\n  const selectedTabState = new SelectedTabState(window)\n\n  tabControl.show(selectedTabState.selectedTabId)\n\n  tabControl.onShow( (tabPanel) => selectedTabState.setSelectedTabId(tabPanel.id) )\n  selectedTabState.onNavigation( (tabId) => tabControl.show(tabId) )\n})\n"],
  "mappings": "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",
  "names": ["SelectedTabState", "window", "event", "tabId", "listener", "Panel", "$panel", "Tab", "$tab", "event", "listener", "TabPanel", "id", "tab", "panel", "TabControl", "$tabControl", "tab", "id", "panel", "TabPanel", "Tab", "Panel", "tabPanel", "listener", "tabPanelId", "other", "event", "$tabView", "tabControl", "TabControl", "selectedTabState", "SelectedTabState", "tabPanel", "tabId"]
}
